# Анализ пользовательской активности, транзакций и проверка SRM

## Описание проекта
Проект посвящён исследованию пользовательских данных, связанных с регистрацией аккаунтов, размещением объявлений и транзакционной активностью в автоклассифайде, проверке корректности выборки с использованием **SRM** и **SSRM**.  
---

## Данные

### 1. Паспорт пользователя (`user_passports`)
- `execution_date` — дата актуальности данных  
- `created_at` — дата регистрации  
- `global_id` — ID пользователя  
- `user_type_cars_name` — тип кабинета (`cars_simple`, `cars_seller`, `cars_dealer`)  
- `user_type_cars_id` — числовой идентификатор типа кабинета (`0`, `6`, `7`)  

### 2. Размещенные объявления (`dp_live_adverts`)
- `execution_date` — дата нахождения объявления в live  
- `advert_id` — уникальный ID объявления  
- `created_at` — дата создания объявления  
- `price` — цена авто  
- `region` — регион размещения  
- `user_id` — ID пользователя (равен `global_id`)  
- `passport_id` — локальный ID пользователя  
- `platform` — платформа размещения (`android`, `ios`, `desktop`, `mobile`)  
- `auto_brand` — марка авто  
- `auto_model` — модель авто  
- `year` — год выпуска  
- `userType` — тип кабинета на момент размещения  

### 3. Транзакции (`user_transaction`)
- `payment_date` — дата платежа  
- `type` — вид услуги  
- `sign` — индикатор операции (`-1` — списание)  
- `amount` — сумма  

---

## Методология
1. **Подготовка данных**
   - Загрузка датасетов `samples1.csv` и `samples2.csv`;  
   - Очистка данных от пропусков;  
   - Создание бинарного признака *vas* (платящий / неплатящий пользователь).  

2. **Анализ пользователей**
   - Расчёт доли платящих пользователей;  
   - Анализ распределений по платформам и кабинетам;  
   - Проверка выборки на репрезентативность (z-тест).  

3. **Проверка на SRM**
   - Сравнение распределения пользователей в группах A/B;  
   - Использование χ²-теста для проверки статистической значимости различий.  

4. **Проведение SSRM**
   - Проверка подгрупп: платформы (`android`, `ios`, `desktop`, `mobile`), регионы, типы кабинетов;  
   - Поиск локальных смещений;  
   - Применение корректировки множественных гипотез (Bonferroni / FDR).  

---

## Анализ
- Большинство пользователей зарегистрированы как **простые**, но транзакции в основном совершают **продавцы и дилеры**.  
- Платежи распределяются неравномерно: **мобильные пользователи (особенно Android)** чаще совершают активность.  
- Проверка репрезентативности показала, что данные по платящим пользователям в целом сбалансированы.  
- **SRM-анализ** выявил незначительные перекосы в распределении групп A/B, но без критического влияния.  
- **SSRM-анализ** показал локальные несоответствия:  
  - iOS-пользователи-продавцы представлены ниже ожидаемой доли;  
  - в отдельных регионах заметна недопредставленность дилеров.  

---

## Выводы
- **Продавцы и дилеры** являются ключевыми драйверами монетизации, их поведение необходимо учитывать при планировании продуктовых гипотез.  
- **Мобильные приложения** — главный канал размещения объявлений и транзакций.  
- **Проверка SRM/SSRM** показала, что общая выборка сбалансирована, но отдельные подгруппы требуют внимания (iOS-продавцы, региональные перекосы).   

